---
import Layout from '../components/Layout.astro';

let baseURL = process.env.NETLIFY || process.env.CONTEXT == 'deploy-preview' ? process.env.DEPLOY_URL : "http://localhost:8888"
let jokesEndpoint = new URL("/.netlify/functions/joke", baseURL)
let data = ''
try {
  let response = await fetch(jokesEndpoint)
  data = await response.text()
} catch {}

---

<Layout title="Astro Quickstart">
	<main>
      <blockquote>{data}</blockquote>
	</main>
</Layout>
<style>
  html {
		background-color: unset;
	}
	.logo img {
    padding: 30px 0;
    width: 100%;
  }

  .resource-list {
    font-family: Helvetica, Arial, sans-serif;
    font-size: larger;
    padding: 10px;
    text-align: center;
  }

  .resource-list ul {
      text-align: left;
      margin: 0 auto;
      width: 300px;
  }

  .resource-list a {
    color: black;
    line-height: 30px;
  }

  footer {
    bottom: 10px;
    font-family: Helvetica, Arial, sans-serif;
    margin: 0 auto;
    width: 100%;
    position: fixed;
    text-align: center;
  }

  footer img {
      width: 20px;
  }
</style>